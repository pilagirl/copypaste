<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>ë³µì‚¬-ë¶™ì—¬ë„£ê¸° 60ë¬¸ì œ ì—°ìŠµ</title>
<style>
body {
  font-family:"Comic Sans MS","ë§‘ì€ ê³ ë”•",sans-serif; 
  background:#e8f9e8; 
  margin:0; 
  padding:24px; 
  display:flex; 
  justify-content:center; 
}
h1 { 
  text-align:center; 
  color:#339966; 
  margin-bottom:20px; 
}
.container { 
  width:90%; 
  max-width:700px; 
  display:flex; 
  flex-direction:column; 
  align-items:center; 
}
.box { 
  border:3px solid #b3e6b3; 
  padding:30px; 
  margin:0 auto; 
  background:#f0fcf0; 
  border-radius:20px; 
  box-shadow:0 6px 12px rgba(127,201,127,0.3); 
  transition:0.5s; 
  position:relative; 
  text-align:center; 
  min-height:400px;
  width:100%;
  max-width:700px;
}
.questionTitle { 
  font-size:2vw; 
  min-font-size:26px; 
  font-weight:bold; 
  color:#339966; 
  margin-bottom:12px; 
}
.questionText { 
  font-size:1.8vw; 
  min-font-size:18px; 
  margin:12px 0; 
}
.exampleText { 
  font-size:2.5vw; 
  min-font-size:24px; 
  margin:16px 0; 
  color:#006633; 
  transition:0.5s; 
  line-height:2; 
  white-space:pre-line;
}
.copyHint { 
  font-size:1.2vw; 
  min-font-size:16px; 
  color:#336600; 
  margin:12px 0; 
  font-weight:bold; 
}
textarea,input { 
  width:90%; 
  padding:14px; 
  margin-top:10px; 
  font-size:2vw; 
  min-font-size:18px; 
  border:2px solid #a3d9a3; 
  border-radius:12px; 
  background:#f6fff6; 
  text-align:center; 
}
button { 
  margin:10px 6px 0 6px; 
  padding:12px 20px; 
  font-size:1.8vw; 
  min-font-size:16px; 
  background:#339966; 
  color:white; 
  border:none; 
  border-radius:12px; 
  cursor:pointer; 
  transition:0.2s; 
}
button:hover { 
  background:#66cc66; 
  transform:scale(1.05); 
}
.result { 
  font-size:1.8vw; 
  min-font-size:18px; 
  font-weight:bold; 
  margin-top:10px; 
  transition:0.3s; 
}
.highlight { 
  animation: bounce 0.4s; 
}
@keyframes bounce { 
  0%{transform:scale(1);}50%{transform:scale(1.2);}100%{transform:scale(1);} 
}
.floating { 
  position:absolute; 
  font-size:2vw; 
  min-font-size:20px; 
  animation:floatUp 4s linear; 
}
@keyframes floatUp { 
  0%{transform:translateY(0);}100%{transform:translateY(-150px); opacity:0;} 
}
#progressBar { 
  height:24px; 
  width:100%; 
  background:#c6f0c0; 
  border-radius:12px; 
  margin-bottom:16px; 
  overflow:hidden;
}
#progress { 
  height:100%; 
  width:0%; 
  background:#339966; 
  transition:0.3s; 
  border-radius:12px; 
}

/* ë°˜ì‘í˜• ì¡°ì • */
@media(max-width:600px){
  .exampleText { font-size:5vw; }
  textarea,input { font-size:4vw; }
  button { font-size:4vw; }
  .questionTitle { font-size:5vw; }
  .questionText { font-size:4.5vw; }
  .copyHint { font-size:3.5vw; }
}
</style>
</head>
<body>

<div class="container">
<h1>ğŸŒ± ë³µì‚¬-ë¶™ì—¬ë„£ê¸° 60ë¬¸ì œ ì—°ìŠµ ğŸŒ±</h1>
<div id="progressBar"><div id="progress"></div></div>
<div class="box" id="problemBox">
  <div class="questionTitle" id="questionTitle"></div>
  <div class="questionText" id="questionText"></div>
  <div class="exampleText" id="exampleText"></div>
  <div class="copyHint">ğŸ’¡ ë³µì‚¬: Ctrl + C / ë¶™ì—¬ë„£ê¸°: Ctrl + V</div>
  <div id="answerArea"></div>
  <button id="checkBtn">âœ… ì •ë‹µ í™•ì¸</button>
  <div class="result" id="result"></div>
  <button id="nextBtn" style="display:none;">â¡ ë‹¤ìŒ ë¬¸ì œ</button>
</div>
</div>


<script>
const sentenceProblems = [
"ë‚˜ëŠ” ì‚¬ê³¼ë¥¼ ì¢‹ì•„í•´ìš”.","ì˜¤ëŠ˜ì€ ë‚ ì”¨ê°€ ë§‘ì•„ìš”.","ë‚˜ëŠ” ì´ˆë“±í•™ìƒì´ì—ìš”.","ì±… ì½ëŠ” ê²ƒì„ ì¢‹ì•„í•´ìš”.","ê°•ì•„ì§€ê°€ ê·€ì—¬ì›Œìš”.",
"ìš°ìœ ë¥¼ ë§ˆì…¨ì–´ìš”.","ê²¨ìš¸ì€ ë„ˆë¬´ ì¶”ì›Œìš”.","ë‚˜ëŠ” í”¼ìë¥¼ ì¢‹ì•„í•´ìš”.","í•™êµì— ê°€ëŠ” ê¸¸ì´ì—ìš”.","ì¹œêµ¬ì™€ í•¨ê»˜ ë†€ì•„ìš”.",
"ë´„ì—ëŠ” ê½ƒì´ í”¼ì–´ìš”.","ë‚˜ëŠ” ìˆ˜í•™ì„ ê³µë¶€í•´ìš”.","ì—°í•„ë¡œ ê¸€ì”¨ë¥¼ ì¨ìš”.","ë‚˜ëŠ” ë…¸ë˜ë¥¼ ë¶ˆëŸ¬ìš”.","ë°”ë‹·ê°€ì— ë†€ëŸ¬ ê°€ê³  ì‹¶ì–´ìš”."
];

const emojiProblems = [
"ğŸ˜Š ğŸ ğŸŒˆ ğŸ¶ ğŸ±|ğŸ","ğŸ¯ ğŸ¦ ğŸµ ğŸ¸ ğŸ§|ğŸ¸","ğŸ“ ğŸŒ ğŸ‡ ğŸ’ ğŸ|ğŸŒ",
"âš½ ğŸ€ ğŸˆ ğŸ¾ ğŸ|ğŸ€","ğŸš— ğŸšŒ ğŸš² ğŸš‚ ğŸš•|ğŸš²","ğŸŸ ğŸ¢ ğŸ¦€ ğŸ™ ğŸ³|ğŸ™",
"ğŸµ ğŸ¤ ğŸ» ğŸ¹ ğŸ¥|ğŸ¹","â˜€ï¸ ğŸŒ™ â­ ğŸŒˆ â›…|â­","ğŸ“š âœï¸ ğŸ–ï¸ ğŸ“– ğŸ“|ğŸ“š",
"ğŸ  ğŸ« ğŸ¢ ğŸ¥ ğŸ¦|ğŸ«","ğŸ” ğŸ• ğŸŸ ğŸŒ­ ğŸ¿|ğŸ•","ğŸ‚ ğŸ© ğŸª ğŸ§ ğŸ«|ğŸ©",
"ğŸ ğŸ ğŸ¦‹ ğŸ› ğŸ¦—|ğŸ¦‹","ğŸŒ² ğŸŒ³ ğŸŒ´ ğŸŒµ ğŸ„|ğŸŒµ","ğŸš€ âœˆï¸ ğŸš ğŸš¤ ğŸš¢|ğŸš€"
];

let problems = [];
for(let i=0;i<2;i++){
  sentenceProblems.forEach(s=>problems.push({type:"sentence", question:"ë‹¤ìŒ ë¬¸ì¥ì„ ë³µì‚¬í•´ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.", example:s, answer:s}));
  emojiProblems.forEach(e=>{ const [opts, ans] = e.split("|"); problems.push({type:"emoji", question: ans + " ì´ëª¨ì§€ë§Œ ë³µì‚¬í•´ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.", example:opts, answer:ans}); });
}
problems = problems.sort(()=>Math.random()-0.5);

let current = 0;
let history = [];

function randomColor(){ 
  const colors=["#f0fcf0","#e6f9e6","#f3fef3","#eafdf0","#f6fff6"];
  return colors[Math.floor(Math.random()*colors.length)];
}

function updateProgress(){
  const percent = ((current)/problems.length)*100;
  document.getElementById("progress").style.width = percent+"%";
}

function loadProblem(){
  if(current>=problems.length){
    let correctCount = history.filter(h=>h.correct).length;
    let wrongProblems = history.filter(h=>!h.correct);
    let html = `<h2 style='color:#339966'>ğŸ‰ ì—°ìŠµ ì™„ë£Œ! ì˜í–ˆì–´ìš”! ğŸŒ±ğŸ‘</h2>`;
    html += `<p>ì´ ë¬¸ì œ: ${problems.length} | ì •ë‹µ: ${correctCount} | ì˜¤ë‹µ: ${wrongProblems.length}</p>`;
    if(wrongProblems.length>0){
      html += "<h3>âŒ ë‹¤ì‹œ í™•ì¸í•´ë³¼ ë¬¸ì œ:</h3><ul>";
      wrongProblems.forEach((w,i)=>{
        html += `<li>${w.question} â†’ ì •ë‹µ: ${w.answer}</li>`;
      });
      html += "</ul>";
    }
    document.getElementById("problemBox").innerHTML = html;
    document.getElementById("progress").style.width="100%";
    return;
  }

  const p = problems[current];
  document.getElementById("problemBox").style.backgroundColor = randomColor();
  document.getElementById("questionTitle").textContent = `ë¬¸ì œ ${current+1} / ${problems.length}`;
  document.getElementById("questionText").textContent = p.question;
  document.getElementById("exampleText").textContent = p.example;
  document.getElementById("result").textContent = "";
  document.getElementById("nextBtn").style.display="none";
  
  const area = document.getElementById("answerArea");
  area.innerHTML = p.type==="sentence"
    ? '<textarea id="userInput" rows="2" placeholder="ì—¬ê¸°ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš” ğŸŒŸ"></textarea>'
    : '<input type="text" id="userInput" placeholder="ì—¬ê¸°ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš” ğŸŒŸ">';
  document.getElementById("userInput").focus();
  updateProgress();
}

function checkAnswer(){
  const p = problems[current];
  const userInput = document.getElementById("userInput").value.trim();
  const result = document.getElementById("result");
  let isCorrect = userInput===p.answer;
  history.push({question:p.question, answer:p.answer, correct:isCorrect});
  if(isCorrect){
    result.style.color="#006633";
    result.textContent="ğŸ‰ ì •ë‹µì´ì—ìš”! ìµœê³ ì˜ˆìš” ğŸ’š";
    result.classList.add("highlight");
    createFloatingEmoji(document.getElementById("problemBox"));
    setTimeout(()=> result.classList.remove("highlight"),500);
    document.getElementById("nextBtn").style.display="inline-block";
  } else {
    result.style.color="#cc3300";
    result.textContent="âŒ ì¡°ê¸ˆ ë” ë…¸ë ¥í•´ìš” ğŸŒ¿";
    result.classList.add("highlight");
    setTimeout(()=> result.classList.remove("highlight"),500);
  }
}

document.getElementById("checkBtn").addEventListener("click", checkAnswer);
document.getElementById("nextBtn").addEventListener("click",()=>{
  current++;
  loadProblem();
});

function createFloatingEmoji(parent){
  const emojiList=["ğŸ’š","ğŸ’›","ğŸ’–","â­","ğŸŒ¸"];
  const emoji = document.createElement("div");
  emoji.className="floating";
  emoji.textContent = emojiList[Math.floor(Math.random()*emojiList.length)];
  emoji.style.left = Math.random()*80 + "%";
  parent.appendChild(emoji);
  setTimeout(()=> parent.removeChild(emoji),4000);
}

// ì—”í„°í‚¤ ì…ë ¥ ì‹œ ì •ë‹µ í™•ì¸
document.addEventListener("keydown",(e)=>{
  const input = document.activeElement;
  if(e.key==="Enter" && (input.tagName==="TEXTAREA" || input.tagName==="INPUT")){
    e.preventDefault();
    checkAnswer();
  }
});

window.addEventListener("DOMContentLoaded", loadProblem);
</script>

</body>
</html>

